(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],[,,,,,,,,,,function(e,t,a){},,function(e,t,a){e.exports=a(22)},,,,,function(e,t,a){},,,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(11),c=a.n(r),o=(a(17),a(2)),s=a(3),i=a(6),u=a(4),m=a(7),p=a(5),d=a(8),h=null,E=function(e){h=e},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h.setState(e)},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";"string"===typeof e&&e.length?h.setState({message:e,messageType:t}):"string"!==typeof e?console.error("setErrorMessage only accepts strings.  A '".concat(typeof e,"' was provided")):console.error("Trying to call setErrorMessage with an empty string")},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&e.preventDefault&&e.preventDefault(),h.setState({message:null,messageType:"success"})},b=function(e,t){var a=Object.assign({},h.state,{args:Object.assign({},h.state.args,Object(d.a)({},e,t))});h.setState(a)},y=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=h.state[e]||{};h.setState(Object(d.a)({},e,Object.assign({},n,{isLoading:!0}))),fetch("http://localhost:8085/"+t,Object.assign({},{method:"GET"},a)).then((function(e){return e.json()})).then((function(t){Array.isArray(t)&&1===t.length&&(t=t[0]),h.setState(Object(d.a)({},e,t))})).catch((function(t){h.setState(Object(d.a)({},e,{error:t}))}))},k=function(){var e={view:"unknown",args:{}},t=window.location.pathname,a=!1;return[{r:/^\/$/,v:"home"},{r:/^\/image\/create$/,v:"image-create"},{r:/\/image\/(.*)/,v:"image",m:function(e){return{id:e[1]}}},{r:/\/images/,v:"images"},{r:/\/containers\/show\/(.*)/,v:"containers",m:function(e){return{type:e[1]}}},{r:/\/container\/run\/(.*)/,v:"container-run",m:function(e){return{imageId:e[1]}}},{r:/\/container\/(.*)/,v:"container",m:function(e){return{id:e[1]}}},{r:/\/volumes\/?$/,v:"volumes"},{r:/\/volume\/(.*)/,v:"volume",m:function(e){return{id:e[1]}}}].forEach((function(n){if(!0!==a){var l=n.r.exec(t);l&&(n.v&&(e.view=n.v),e.args=n.m?n.m(l):{},a=!0)}})),e},O=function(e){return function(t){function a(e){var t;return Object(o.a)(this,a),(t=Object(i.a)(this,Object(u.a)(a).call(this,e))).apiId=[],t.repeating=[],t.timer=null,t.mounted=!1,t}return Object(p.a)(a,t),Object(s.a)(a,[{key:"componentDidMount",value:function(){this.mounted=!0,this.repeating&&(this.timer=setInterval(this.timerCallback.bind(this),1500),this.timerCallback())}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.apiId){var a=[],n="success",l=e.message||null;if(this.apiId.forEach((function(e){var l=t.props[e];if(l)if(l.error)a.push(l.error),n="error";else if(l.results){var r="";l.command&&(r+="Successful Result\n",r+="Command:\n ".concat(l.command),r+="\n\n"),r+="Ouput:\n".concat(l.results),a.push(r)}})),a&&a.length){var r=a.join("\n\n");l!==r&&v(r,n)}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this.timer&&(clearInterval(this.timer),this.timer=null),this.repeating.concat(this.apiId).forEach((function(e){var t,a=e;e&&e.id&&(a=e.id),t=a,h&&h.state.hasOwnProperty(t)&&(delete h.state[t],h.setState(h.state))}))}},{key:"timerCallback",value:function(e){this.mounted?this.repeating.forEach((function(e){y(e.id,e.endpoint,e.params)})):this.timer&&(clearInterval(this.timer),this.timer=null)}},{key:"render",value:function(){var t=this,a=function(e){t.apiId.indexOf(e)<0&&t.apiId.push(e)};return l.a.createElement(e,Object.assign({addRepeatingApi:function(e,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!0!==t.mounted){var l=t.repeating.find((function(t){return t.id===e}));l||t.repeating.push({id:e,endpoint:a,params:n,timer:null})}else console.warn("`addRepeatingApi` must be called before `withApiWatch` is mounted")},addApiWatchId:a,setApiWatchId:a},this.props))}}]),a}(l.a.Component)},N=a(1),C=a.n(N),w=O(function(e){function t(e){var a;Object(o.a)(this,t),a=Object(i.a)(this,Object(u.a)(t).call(this,e));var n=Object(m.a)(a);return b("socketOpen",!1),a.socket=new WebSocket("ws://localhost:8086"),a.socket.onopen=function(){b("socketOpen",!0)},a.socket.onclose=function(){b("socketOpen",!1)},a.socket.onmessage=function(e){var t;try{t=JSON.parse(e.data)}catch(r){return}if(t&&"volume-create-backup"===t.type){if(t&&(t.data||t.error)){var a=C.a.get(n.props,"args.output")||[],l=t.data||t.error;l.match(/^\(/)&&a.length&&a[a.length-1].match(/^\(/)?a[a-1]=l:a.push(l),b("output",a)}t&&!0===t.finished&&b("backupStarted",!1),setTimeout((function(){n.stdout&&(n.stdout.scrollTop=n.stdout.scrollHeight)}),100)}},a.stdout=null,a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.addApiWatchId("volume-delete"),this.props.addRepeatingApi("volume-info","volume/"+this.getId())}},{key:"getId",value:function(){return this.props.args.id}},{key:"handleBackupClick",value:function(e){e&&e.preventDefault&&e.preventDefault();var t=this.getId(),a=this.props.args.socketOpen;t&&a?(this.socket.send(JSON.stringify({type:"volume-create-backup",name:t})),b("backupStarted",!0)):a?t||v("Please enter a path first.","error"):v("Socket is not connected.  Please refresh the page.","error")}},{key:"handleDeleteClick",value:function(e){e&&e.preventDefault&&e.preventDefault(),window.confirm("Are you sure you want to delete this image?")&&y("volume-delete","volume/"+this.getId(),{method:"DELETE"})}},{key:"parseValue",value:function(e){if(Array.isArray(e))return e.join(", ");switch(typeof e){case"string":case"number":return e;case"object":return this.objectToString(e);default:return e}}},{key:"objectToString",value:function(e){var t=this;return l.a.createElement("ul",null,Object.keys(e).map((function(a){return l.a.createElement("li",{key:"entry-".concat(a)},l.a.createElement("strong",null,a)," => ",t.parseValue(e[a]))})))}},{key:"render",value:function(){var e=this,t=C.a.get(this.props,"volume-info.results.basic"),a=C.a.get(this.props,"volume-info.results.meta"),n=C.a.get(this.props,"args.socketOpen")||!1,r=C.a.get(this.props,"args.output"),c=C.a.get(this.props,"args.backupStarted")||!1,o=this,s=[];return l.a.createElement("div",{className:"Volume"},l.a.createElement("h1",null,"Volume ",this.getId()),l.a.createElement("p",null,"This page container information about a specific Volume, and provides simple actions to manage the Volume."),l.a.createElement("p",null,l.a.createElement("span",{className:"toggler danger".concat(!0===n?" checked":"")},"Connection Open"),l.a.createElement("br",null),l.a.createElement("em",null,"This page uses WebSockets to stream the output of the build process to this page.  If the indicator above is red, there is no connection."),l.a.createElement("br",null),c?l.a.createElement("span",{className:"toggler danger".concat(!0===c?" checked":"")},"Backup Started"):null),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("a",{href:"void",className:"text-danger",onClick:this.handleDeleteClick.bind(this)},"Delete Volume")),c?null:l.a.createElement("li",null,l.a.createElement("a",{href:"void",onClick:this.handleBackupClick.bind(this)},"Create Backup"))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6"},l.a.createElement("table",{className:"border"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Value"))),l.a.createElement("tbody",null,t?Object.keys(t).map((function(a,n){return s.push(a.toLowerCase()),l.a.createElement("tr",{key:"volume-basic-".concat(a,"-").concat(n)},l.a.createElement("td",null,a),l.a.createElement("td",null,e.parseValue(t[a])))})):null,a?Object.keys(a).map((function(t,n){return s.indexOf(t.toLowerCase())>=0?null:l.a.createElement("tr",{key:"volume-meta-".concat(t,"-").concat(n)},l.a.createElement("td",null,t),l.a.createElement("td",null,e.parseValue(a[t])))})):null)))),r?[l.a.createElement("p",{key:"blank"}),l.a.createElement("pre",{className:"console",key:"console",ref:function(e){o.stdout=e}},r.join(""))]:null)}}]),t}(l.a.Component)),I=function(e){return l.a.createElement("a",{href:e.to,onClick:function(t){t&&t.preventDefault&&t.preventDefault(),window.history.pushState({},e.title||"Page Change",e.to),"function"===typeof e.onClick&&e.onClick(),g(k())},className:e.className||""},e.children)},j=O(function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.addRepeatingApi("volumes","volumes")}},{key:"render",value:function(){var e=C.a.get(this.props,"volumes.output")||[];return l.a.createElement("div",{className:"Images"},l.a.createElement("h1",null,"Images"),l.a.createElement("p",null,"This page lists the available images"),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(I,{to:"/volume/create"},"Create new Image"))),e&&e.length?l.a.createElement("table",{className:"border"},l.a.createElement("thead",null,l.a.createElement("tr",null,Object.keys(e[0]).map((function(e,t){return l.a.createElement("th",{key:"col-".concat(e)},e)})))),l.a.createElement("tbody",null,e.map((function(e,t){return l.a.createElement("tr",{key:"vol-".concat(t)},Object.keys(e).map((function(t,a){var n=e[t];return"VOLUME NAME"===t&&(n=l.a.createElement(I,{to:"/volume/".concat(e[t])},e[t])),l.a.createElement("td",{key:"vol-key-".concat(t)},n)})))})))):null)}}]),t}(l.a.Component)),S=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){y("images","images")}},{key:"render",value:function(){var e=this.props.images||{};return l.a.createElement("div",{className:"Images"},l.a.createElement("h1",null,"Images"),l.a.createElement("p",null,"This page lists the available images"),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(I,{to:"/image/create"},"Create new Image"))),e&&e.output?l.a.createElement("table",{className:"border"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Image ID"),l.a.createElement("th",null,"Repository"),l.a.createElement("th",null,"Size"),l.a.createElement("th",null,"Created"))),l.a.createElement("tbody",null,e.output.map((function(e,t){return e["IMAGE ID"]?l.a.createElement("tr",{key:e["IMAGE ID"]},l.a.createElement("td",null,l.a.createElement(I,{to:"/image/".concat(e["IMAGE ID"])},e["IMAGE ID"])),l.a.createElement("td",null,e.REPOSITORY),l.a.createElement("td",null,e.SIZE),l.a.createElement("td",null,e.CREATED)):null})))):null)}}]),t}(l.a.Component),D=(a(10),O(function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"getId",value:function(){return this.props.args.id}},{key:"componentDidMount",value:function(){this.props.addRepeatingApi("image-".concat(this.getId()),"image/inspect/".concat(this.getId())),this.props.addApiWatchId("image-".concat(this.getId())),this.props.addApiWatchId("run-img-command")}},{key:"toggleShowFullDetails",value:function(e){e&&e.preventDefault&&e.preventDefault();var t=!0!==this.props.args.isShowFull;b("isShowFull",t)}},{key:"imageCommand",value:function(e){var t=this;return function(a){a.preventDefault();var n={method:"post"};"force-rm"===e&&(e="rm",n.body=JSON.stringify({options:["-f"]})),y("run-img-command","image/".concat(t.getId(),"/perform/").concat(e),n)}}},{key:"render",value:function(){var e=this.props["image-".concat(this.getId())]||{},t=C.a.get(this.props,"image-".concat(this.getId(),".isLoading"))||!1,a=this.props.args.isShowFull||!1;return Array.isArray(e)&&(e=e[0]),l.a.createElement("div",{className:"Image"},l.a.createElement("h1",null,"Image ",this.props.args.id),l.a.createElement("p",null,"This page show the details and available actions for an Image"),l.a.createElement("h2",null,"Details"),t&&!e.Size?l.a.createElement("p",null,"Please wait while the image details is loaded"):null,l.a.createElement("ul",{className:"inline"},l.a.createElement("li",null,l.a.createElement(I,{to:"/container/run/".concat(this.getId())},"Create a Container")),l.a.createElement("li",null,l.a.createElement("a",{href:"void",className:"text-danger",onClick:this.imageCommand("rm")},"Delete Image")),l.a.createElement("li",null,l.a.createElement("a",{href:"void",className:"text-danger",onClick:this.imageCommand("force-rm")},"Force Delete Image")),l.a.createElement("li",null,l.a.createElement("a",{key:"full-link",href:"void",onClick:this.toggleShowFullDetails.bind(this)},a?"Hide Raw Details":"Show Raw Details"))),a?null:l.a.createElement("table",{className:"border"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Value"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"Author"),l.a.createElement("td",null,e.Author)),l.a.createElement("tr",null,l.a.createElement("td",null,"Architecture"),l.a.createElement("td",null,e.Architecture)),l.a.createElement("tr",null,l.a.createElement("td",null,"OS"),l.a.createElement("td",null,e.Os)),l.a.createElement("tr",null,l.a.createElement("td",null,"Size"),l.a.createElement("td",null,e.Size>0?l.a.createElement("ul",{className:"no-bullets"},l.a.createElement("li",null,(e.Size/1e6).toFixed(2)," MB"),l.a.createElement("li",null,(e.Size/1e9).toFixed(2)," GB")):null)),l.a.createElement("tr",null,l.a.createElement("td",null,"Tags"),l.a.createElement("td",null,e.RepoTags&&e.RepoTags.length?l.a.createElement("ul",{className:"no-bullets"},e.RepoTags.map((function(e,t){return l.a.createElement("li",{key:"tag-".concat(t)},e)}))):"None")),l.a.createElement("tr",null,l.a.createElement("td",null,"Exposed Ports"),l.a.createElement("td",null,e.Config&&e.Config.ExposedPorts?l.a.createElement("ul",{className:"no-bullets"},Object.keys(e.Config.ExposedPorts).map((function(e,t){return l.a.createElement("li",{key:"port-".concat(e)},e.replace(/(\d+).*/,"$1"))}))):"None")),l.a.createElement("tr",null,l.a.createElement("td",null,"Environment Variables"),l.a.createElement("td",null,e.Config&&e.Config.Env?l.a.createElement("ul",{className:"no-bullets"},e.Config.Env.map((function(e,t){return e.match(/^PATH/)?null:l.a.createElement("li",{key:"port-".concat(e)},e.replace(/(\d+).*/,"$1"))}))):"None")),l.a.createElement("tr",null,l.a.createElement("td",null,"Labels"),l.a.createElement("td",null,e.Config&&e.Config.Labels?l.a.createElement("ul",{className:"no-bullets"},Object.keys(e.Config.Labels).map((function(t,a){return l.a.createElement("li",{key:"label-".concat(t)},l.a.createElement("em",null,t),' : "',e.Config.Labels[t],'"')}))):"None")))),!0===a?[l.a.createElement("pre",{key:"details-dump"},JSON.stringify(e,null,2))]:null)}}]),t}(l.a.Component))),A=O(function(e){function t(e){var a;Object(o.a)(this,t),a=Object(i.a)(this,Object(u.a)(t).call(this,e));var n=Object(m.a)(a);return b("socketOpen",!1),a.socket=new WebSocket("ws://localhost:8086"),a.socket.onopen=function(){b("socketOpen",!0)},a.socket.onclose=function(){b("socketOpen",!1)},a.socket.onmessage=function(e){var t;try{t=JSON.parse(e.data)}catch(r){return}if(t&&"build-image"===t.type){if(t&&(t.data||t.error)){var a=C.a.get(n.props,"args.output")||[],l=t.data||t.error;l.match(/^\(/)&&a.length&&a[a.length-1].match(/^\(/)?a[a-1]=l:a.push(l),b("output",a)}t&&!0===t.finished&&b("buildStarted",!1),setTimeout((function(){n.stdout&&(n.stdout.scrollTop=n.stdout.scrollHeight)}),100)}},a.stdout=null,a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"handleFormSubmit",value:function(e){e&&e.preventDefault&&e.preventDefault();var t=this.props.args,a=t.path,n=t.name,l=t.socketOpen;a&&l?(this.socket.send(JSON.stringify({type:"build-image",name:n,path:a})),b("buildStarted",!0)):l?a||v("Please enter a path first.","error"):v("Socket is not connected.  Please refresh the page.","error")}},{key:"render",value:function(){var e=C.a.get(this.props,"args.socketOpen")||!1,t=C.a.get(this.props,"args.output"),a=C.a.get(this.props,"args.buildStarted")||!1,n=C.a.get(this.props,"args.path")||"",r=C.a.get(this.props,"args.name")||"",c=this;return l.a.createElement("div",{className:"Image-create"},l.a.createElement("h1",null,"Create an Image"),l.a.createElement("p",null,"This page can be used to build an image from a Dockerfile"),l.a.createElement("p",null,l.a.createElement("span",{className:"toggler danger".concat(!0===e?" checked":"")},"Connection Open"),l.a.createElement("br",null),l.a.createElement("em",null,"This page uses WebSockets to stream the output of the build process to this page.  If the indicator above is red, there is no connection."),l.a.createElement("br",null),a?l.a.createElement("span",{className:"toggler danger".concat(!0===a?" checked":"")},"Build Started"):null),l.a.createElement("form",{onSubmit:this.handleFormSubmit.bind(this)},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6"},l.a.createElement("div",{className:"flex-col"},l.a.createElement("p",null,l.a.createElement("strong",null,"Name")," ",l.a.createElement("em",null,"(optional)"),l.a.createElement("br",null),"Please enter name to easily identify this image"),l.a.createElement("input",{type:"text",onChange:function(e){b("name",e.target.value)},value:r})))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6"},l.a.createElement("div",{className:"flex-col"},l.a.createElement("p",null,l.a.createElement("strong",null,"Build Directory"),l.a.createElement("br",null),"Please enter the full path of the ",l.a.createElement("strong",null,"directory")," where your Dockerfile is located"),l.a.createElement("input",{type:"text",onChange:function(e){b("path",e.target.value)},value:n})))),l.a.createElement("p",null),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("button",{type:"submit"},"Create Image")))),t?[l.a.createElement("p",{key:"blank"}),l.a.createElement("pre",{className:"console",key:"console",ref:function(e){c.stdout=e}},t.join(""))]:null)}}]),t}(l.a.Component)),T=O(function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).mounted=!1,a.timer=null,a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"getId",value:function(){return this.props.args.id}},{key:"componentDidMount",value:function(){this.mounted=!0;var e=this.getId(),t="container-".concat(e);this.props.addApiWatchId(t),this.props.addApiWatchId("run-command"),y(t,"container/inspect/".concat(e));var a=this;this.timer=setInterval((function(){if(!0!==a.props[t].isLoading)return a.props[t].error?(clearInterval(a.timer),void(a.timer=null)):void y(t,"container/inspect/".concat(e))}),1e3)}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this.timer&&clearInterval(this.timer),this.timer=null}},{key:"toggleShowFullDetails",value:function(e){e&&e.preventDefault&&e.preventDefault();var t=!0!==this.props.args.isShowFull;b("isShowFull",t)}},{key:"containerCommand",value:function(e){var t=this;return function(a){a.preventDefault(),y("run-command","container/".concat(t.getId(),"/perform/").concat(e),{method:"post"})}}},{key:"render",value:function(){var e=this.props["container-".concat(this.getId())]||{},t=this.props.args.isShowFull||!1;Array.isArray(e)&&(e=e[0]);var a=e.State?e.State.Status:null;return l.a.createElement("div",{className:"Image"},l.a.createElement("h1",null,"Container ",this.props.args.id),l.a.createElement("p",null,"This page show the details and available actions for a Container"),l.a.createElement("h2",null,"Details"),l.a.createElement("ul",{className:"inline"},"exited"===a?[l.a.createElement("li",{key:"start"},l.a.createElement("a",{href:"void",onClick:this.containerCommand("start")},"Start")),l.a.createElement("li",{key:"remove"},l.a.createElement("a",{href:"void",className:"text-danger",onClick:this.containerCommand("rm")},"Remove"))]:null,"running"===a?[l.a.createElement("li",{key:"stop"},l.a.createElement("a",{href:"void",onClick:this.containerCommand("stop")},"Stop")),l.a.createElement("li",{key:"pause"},l.a.createElement("a",{href:"void",onClick:this.containerCommand("pause")},"Pause")),l.a.createElement("li",{key:"restart"},l.a.createElement("a",{href:"void",onClick:this.containerCommand("restart")},"Restart"))]:null,"paused"===a?l.a.createElement("li",null,l.a.createElement("a",{href:"void",onClick:this.containerCommand("unpause")},"Unpause")):null,l.a.createElement("li",null,l.a.createElement("a",{key:"full-link",href:"void",onClick:this.toggleShowFullDetails.bind(this)},t?"Hide Raw Details":"Show Raw Details"))),t?null:l.a.createElement("table",{className:"border"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Value"))),l.a.createElement("tbody",null,"running"===a?l.a.createElement("tr",null,l.a.createElement("td",null,"Started At"),l.a.createElement("td",null,e.State.StartedAt)):null,e.State?l.a.createElement("tr",null,l.a.createElement("td",null,"State"),l.a.createElement("td",null,l.a.createElement("ul",null,["Status","Running","Paused","Restarting","Dead"].map((function(t){return l.a.createElement("li",{key:t},l.a.createElement("strong",null,t)," : ",""+e.State[t])}))))):null,e.Config&&e.Config.Image?l.a.createElement("tr",null,l.a.createElement("td",null,"Image"),l.a.createElement("td",null,l.a.createElement(I,{to:"/image/".concat(e.Config.Image)},e.Config.Image))):null)),!0===t?[l.a.createElement("pre",{key:"details-dump"},JSON.stringify(e,null,2))]:null)}}]),t}(l.a.Component)),x=(a(20),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).mounted=!1,a.timer=null,a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"getType",value:function(){var e=this.props.args||{};return e=e.type||"all"}},{key:"componentDidMount",value:function(){var e=this.getType();y("containers","containers/show/".concat(e)),this.mounted=!0;var t=this;this.timer=setInterval((function(){t.mounted?y("containers","containers/show/".concat(t.getType())):clearInterval(t.timer)}),3e3)}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this.timer&&clearInterval(this.timer),this.timer=null}},{key:"componentDidUpdate",value:function(e){var t=this.getType();e.args.type!==t&&y("containers","containers/show/".concat(t))}},{key:"render",value:function(){var e=this.props.args||{},t=this.props.containers||[];t.output&&t.output.length&&(t=t.output);var a=t.length?t[0]:null;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"Containers"},l.a.createElement("h1",null,"Containers"),l.a.createElement("div",{className:"Containers-options"},l.a.createElement(I,{to:"/containers/show/".concat("all"===this.getType()?"running":"all"),className:"toggler".concat("all"===e.type?" checked":"")},"Show All")),"all"===e.type?l.a.createElement("p",null,"This page is showing all containers."):l.a.createElement("p",null,"This page is showing only the running containers."),a?l.a.createElement("table",{className:"border"},l.a.createElement("thead",null,l.a.createElement("tr",null,Object.keys(a).map((function(e){return l.a.createElement("th",{key:e},e)})))),l.a.createElement("tbody",null,t.map((function(e,t){var a=0,n=0;return Object.keys(e).forEach((function(t,l){a++,e[t]||n++})),a===n?null:l.a.createElement("tr",{key:"row-".concat(t)},Object.keys(e).map((function(t,a){var n=e[t];return"IMAGE"===t?n=l.a.createElement(I,{to:"/image/".concat(n),className:"no-style"},n):"CONTAINER ID"===t?n=l.a.createElement(I,{to:"/container/".concat(n),className:"no-style"},n):"PORTS"===t&&n.length&&(n=l.a.createElement("ul",null,n.split(/,/).map((function(e,t){return l.a.createElement("li",{key:"line-".concat(t)},e)})))),l.a.createElement("td",{key:"row-".concat(a)},n)})))})))):null))}}]),t}(l.a.Component)),P=O(function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={flag:!1},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e="image-".concat(this.props.args.imageId);this.props.addApiWatchId("container_run"),this.props.addApiWatchId(e),this.props[e]||y(e,"image/inspect/".concat(this.props.args.imageId)),y("volumes","volumes")}},{key:"handleForm",value:function(e){e&&e.preventDefault&&e.preventDefault();var t=this.props.args||{},a=[],n=[],l={flagRm:"--rm",flagTty:"-t"};Object.keys(t).forEach((function(e){if(l.hasOwnProperty(e)){var t=l[e].split(/\s/);a.push({key:t[0],value:t[1]||""})}})),t.name&&t.name.length&&a.push({key:"--name",value:t.name}),t.mounts&&t.mounts.length&&t.mounts.forEach((function(e){e.local&&e.remote&&n.push(e)})),y("container_run","container/run/".concat(this.props.args.imageId),{method:"post",body:JSON.stringify({options:a,mounts:n,additionalArgs:t.additionalArgs||"",ports:t.ports})})}},{key:"addBountMount",value:function(e){e&&e.preventDefault&&e.preventDefault();var t=this.props.args.mounts||[];t.push({local:"",remote:""}),b("mounts",t)}},{key:"addVolume",value:function(e){e&&e.preventDefault&&e.preventDefault();var t=this.props.args.volumes||[];t.push({volumeId:"",remote:""}),b("volumes",t)}},{key:"inputListener",value:function(e){var t=this,a=this;return function(n){switch(e){case"flagRm":b("flagRm",!a.props.args.flagRm),a.setState({flag:!a.state.flag});break;case"flagTty":b("flagTty",!0!==a.props.args.flagTty);break;default:var l,r,c,o;if(e.match(/port_/)){var s=t.props.args.ports||{};s[e.replace(/port_/,"")]=n.target.value,b("ports",s)}else if(l=e.match(/(mounts|volumes)-(\d+)-(volumeId|local|remote)/)){o=l[1],r=l[2];var i=l[3];(c=(c=a.props.args[o]||[]).slice())[r]&&(c[r][i]=n.target.value),b(o,c)}else(l=e.match(/remove-(volumes|mounts)-(\d+)/))?(n.preventDefault(),o=l[1],r=l[2],(c=(C.a.get(a.props,"args.".concat(o))||[]).slice()).splice(r,1),b(o,c)):b(e,n.target.value)}}}},{key:"render",value:function(){var e=this,t="image-".concat(this.props.args.imageId),a=this.props[t]||{},n=this.props.args,r=n.ports||{},c=n.additionalArgs||"",o=n.mounts||[],s=n.volumes||[],i=C.a.get(this.props,"volumes.output")||[];Array.isArray(a)&&(a=a[0]);var u=this;return l.a.createElement("div",{className:"Container-run"},l.a.createElement("h1",null,"Start a Container"),l.a.createElement("p",null,"From this page you can start a new container using the selected image.  Please customize the details below to set different options on the container."),l.a.createElement("form",{onSubmit:this.handleForm.bind(this)},l.a.createElement("p",null,l.a.createElement("strong",null,"Name")," ",l.a.createElement("em",null,"(optional)"),l.a.createElement("br",null),l.a.createElement("em",null,"Gives the container a name so you can easily run commands on the container.")),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6"},l.a.createElement("div",{className:"flex-col"},l.a.createElement("input",{value:n.name||"",onChange:this.inputListener("name")})))),l.a.createElement("p",null,l.a.createElement("strong",null,"Flags")),l.a.createElement("div",{className:"flex-col"},l.a.createElement("span",null,l.a.createElement("label",null,l.a.createElement("input",{type:"checkbox",value:!!n.flagRm,onChange:this.inputListener("flagRm"),checked:!!n.flagRm})," Don't Persist"),"\xa0- ",l.a.createElement("em",null,"When the container is stopped, it is automatically removed, and can't be restarted.")),l.a.createElement("span",null,l.a.createElement("label",null,l.a.createElement("input",{type:"checkbox",value:!!n.flagTty,onChange:this.inputListener("flagTty"),checked:!!n.flagTty})," Prevent Exit \xa0- ",l.a.createElement("em",null,"Containers exit if a script isn't set to run at start, this flag prevents the container from exiting")))),l.a.createElement("p",null,l.a.createElement("strong",null,"Port Mapping")," ",l.a.createElement("em",null,"(optional)"),l.a.createElement("br",null),l.a.createElement("em",null,"If left empty, that port will not be exposed to localhost")),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6"},l.a.createElement("div",{className:"flex-row flex-justify-between"},l.a.createElement("span",null,"Local Port"),l.a.createElement("span",null),l.a.createElement("span",null,"Container Port")),a.Config&&a.Config.ExposedPorts?Object.keys(a.Config.ExposedPorts).map((function(e){return e=e.replace(/(\d+).*/,"$1"),l.a.createElement("div",{key:"port-".concat(e),className:"flex-row flex-justify-between"},l.a.createElement("div",null,l.a.createElement("input",{onChange:u.inputListener("port_".concat(e)),value:r[e]||""})),l.a.createElement("span",null,"=>"),l.a.createElement("div",null,l.a.createElement("input",{readOnly:!0,value:e})))})):"No Exposed Ports")),l.a.createElement("p",null,l.a.createElement("strong",null,"Volume Binding Mapping")," ",l.a.createElement("em",null,"(optional)"),l.a.createElement("br",null),l.a.createElement("em",null,"Binds a local directory to a directory in the container.  Please use full paths")),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6"},o.map((function(t,a){return l.a.createElement("div",{key:"vol-".concat(a),className:"flex-row flex-justify-between"},l.a.createElement("div",null,l.a.createElement("input",{placeholder:"local",value:t.local,onChange:u.inputListener("mounts-".concat(a,"-local"))})),l.a.createElement("span",null,"=>"),l.a.createElement("div",null,l.a.createElement("input",{placeholder:"container",value:t.remote,onChange:u.inputListener("mounts-".concat(a,"-remote"))})," \xa0",l.a.createElement("a",{href:"void",onClick:e.inputListener("remove-mounts-".concat(a)),className:"no-style text-danger"},"- Delete")))})))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6"},l.a.createElement("a",{href:"void",onClick:this.addBountMount.bind(this)},"+ Add a Local Mount"))),l.a.createElement("p",null,l.a.createElement("strong",null,"Volume Mapping")," ",l.a.createElement("em",null,"(optional)"),l.a.createElement("br",null),l.a.createElement("em",null,"Binds a docker volume to a directory in the container.  Please use full paths")),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6"},s.map((function(t,a){return l.a.createElement("div",{key:"vol-".concat(a),className:"flex-row flex-justify-between"},l.a.createElement("div",null,l.a.createElement("div",{className:"flex-col"},l.a.createElement("select",{value:t.volumeId||"",onChange:u.inputListener("volumes-".concat(a,"-volumeId"))},i.map((function(e,t){return l.a.createElement("option",{key:e["VOLUME NAME"]},e["VOLUME NAME"])}))))),l.a.createElement("span",null,"=>"),l.a.createElement("div",null,l.a.createElement("input",{placeholder:"container",value:t.remote,onChange:u.inputListener("volume-".concat(a,"-remote"))})," \xa0",l.a.createElement("a",{href:"void",onClick:e.inputListener("remove-volumes-".concat(a)),className:"no-style text-danger"},"- Delete")))})))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6"},l.a.createElement("a",{href:"void",onClick:this.addVolume.bind(this)},"+ Add a Volume"))),l.a.createElement("p",null,l.a.createElement("strong",null,"Additional Arguments"),l.a.createElement("br",null),l.a.createElement("em",null,"Enter any other options/arguments to the command.")),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6"},l.a.createElement("div",{className:"flex-col"},l.a.createElement("input",{placeholder:"docker run arguments",value:c,onChange:u.inputListener("additionalArgs")})))),l.a.createElement("p",null),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6"},l.a.createElement("button",{type:"submit"},"Start Container")))))}}]),t}(l.a.Component)),R=function(e){return l.a.createElement("div",null,l.a.createElement("h1",null,"404 - Page Not Found"),l.a.createElement("p",null,"Return to ",l.a.createElement(I,{to:"/containers/show/running"},"Containers")," page."))},L=function(e){return l.a.createElement("div",{className:"Home"},l.a.createElement("h1",null,"Docker GUI"),l.a.createElement("p",null,"This is a simple interface for managing your local Docker images, containers, and volumes (",l.a.createElement("em",null,"coming soon"),")"))},M=(a(21),function(e){function t(e){var a;return Object(o.a)(this,t),a=Object(i.a)(this,Object(u.a)(t).call(this,e)),E(Object(m.a)(a)),a.originalPopstateListener=window.onpopstate,a.state=k(),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"handleHistoryEvent",value:function(e){e&&e.preventDefault&&e.preventDefault(),g(k())}},{key:"componentDidMount",value:function(){window.onpopstate=this.handleHistoryEvent}},{key:"componentWillUnmount",value:function(){window.onpopstate=this.originalPopstateListener}},{key:"route",value:function(e){var t=null;switch(e){case"containers":t=l.a.createElement(x,this.state);break;case"images":t=l.a.createElement(S,this.state);break;case"image-create":t=l.a.createElement(A,this.state);break;case"image":t=l.a.createElement(D,this.state);break;case"container-run":t=l.a.createElement(P,this.state);break;case"container":t=l.a.createElement(T,this.state);break;case"volume":t=l.a.createElement(w,this.state);break;case"volumes":t=l.a.createElement(j,this.state);break;case"home":t=l.a.createElement(L,null);break;default:t=l.a.createElement(R,null)}return t}},{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement("header",{className:"App-header"},l.a.createElement("ul",{className:"App-nav"},l.a.createElement("li",null,l.a.createElement(I,{to:"/"},"Home")),l.a.createElement("li",null,l.a.createElement(I,{to:"/containers/show/running"},"Containers")),l.a.createElement("li",null,l.a.createElement(I,{to:"/images"},"Images")),l.a.createElement("li",null,l.a.createElement(I,{to:"/volumes"},"Volumes"))),l.a.createElement("p",null,l.a.createElement("a",{style:{color:"white",textDecoration:"none"},href:"https://github.com/chrisonbass/docker-gui"},"@chrisonbass"))),this.state.message&&(""+this.state.message).length?l.a.createElement("div",{className:"App-msg-".concat("success"===this.state.messageType?"success":"error")},l.a.createElement("a",{href:"void",onClick:f,className:"close"},"x"),l.a.createElement("pre",null,this.state.message)):null,l.a.createElement("div",{className:"App-body"},this.route(this.state.view)))}}]),t}(l.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[12,1,2]]]);
//# sourceMappingURL=main.36245306.chunk.js.map